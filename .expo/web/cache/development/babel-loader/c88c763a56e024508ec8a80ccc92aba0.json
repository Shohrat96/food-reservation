{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\shohrat.garadaghli\\\\Desktop\\\\dev\\\\orderApp\\\\src\\\\screens\\\\Auth\\\\RegisterScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport App from \"../../API/firebaseConfig\";\nimport { sign } from \"../../store/Auth\";\nimport { connect } from \"react-redux\";\nimport { auth } from 'firebase';\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nvar RegisterScreen = connect(mapStateToProps, {\n  sign: sign\n})(function (props) {\n  var sign = props.sign,\n      navigation = props.navigation;\n  console.log('props in shop: ', props);\n\n  var _useState = useState({\n    email: '',\n    password: '',\n    repeatPass: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      credentials = _useState2[0],\n      setCredentials = _useState2[1];\n\n  var _useState3 = useState('login'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      curState = _useState4[0],\n      setCurState = _useState4[1];\n\n  var signUpHandler = function signUpHandler(credentials) {\n    var email = credentials.email,\n        password = credentials.password,\n        repeatPass = credentials.repeatPass;\n\n    if (curState === 'login') {\n      try {\n        if (email.trim().length && password.trim().length) {\n          var login = sign(email, password, 'test', true);\n          console.log('login result: ', login);\n        } else {\n          Alert.alert('Bütün xanaları doldurun...');\n          console.log('Bütün xanaları doldurun...');\n        }\n      } catch (error) {\n        console.log('error: ', error);\n      }\n    } else if (curState === 'signup') {\n      try {\n        var check = Object.values(credentials).every(function (field) {\n          return field.trim().length > 0;\n        });\n\n        if (check) {\n          if (credentials.repeatPass === credentials.password) {\n            sign(email, password, 'test', false);\n          } else {\n            console.log(\"password doesn't match...\");\n            Alert.alert(\"password doesn't match...\");\n          }\n        } else {\n          console.log('Bütün xanaları doldurun...');\n          Alert.alert('Bütün xanaları doldurun...');\n        }\n      } catch (error) {\n        console.log('error: ', error);\n        Alert.alert('error: ', error);\n      }\n    }\n  };\n\n  console.log('props in register: ', props);\n  useEffect(function () {\n    if (props.auth.userID) {\n      navigation.navigate('Home');\n    }\n  }, [props.auth]);\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 10\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      backgroundColor: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 12\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      marginRight: 10\n    },\n    onPress: function onPress() {\n      return setCurState('signup');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, \"Sign Up\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setCurState('login');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, \"Log In\"))), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 12\n    }\n  }, \"email\"), React.createElement(TextInput, {\n    keyboardType: \"email-address\",\n    value: credentials.email,\n    placeholder: \"email@sample.com\",\n    onChangeText: function onChangeText(value) {\n      setCredentials(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          email: value\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 12\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 12\n    }\n  }, \"password\"), React.createElement(TextInput, {\n    secureTextEntry: true,\n    placeholder: \"password\",\n    value: credentials.password,\n    onChangeText: function onChangeText(value) {\n      setCredentials(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          password: value\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 12\n    }\n  }), curState === 'signup' ? React.createElement(React.Fragment, null, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, \"Repeat password\"), React.createElement(TextInput, {\n    secureTextEntry: true,\n    placeholder: \"repeat password\",\n    value: credentials.repeatPass,\n    onChangeText: function onChangeText(value) {\n      setCredentials(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          repeatPass: value\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  })) : null, React.createElement(View, {\n    style: {\n      paddingTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 12\n    }\n  }, React.createElement(Button, {\n    style: {\n      marginTop: 20\n    },\n    title: \"Submit\",\n    onPress: function onPress() {\n      return signUpHandler(credentials);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  })));\n});\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\nexport default RegisterScreen;","map":{"version":3,"sources":["C:/Users/shohrat.garadaghli/Desktop/dev/orderApp/src/screens/Auth/RegisterScreen.js"],"names":["React","useEffect","useState","App","sign","connect","auth","mapStateToProps","state","RegisterScreen","props","navigation","console","log","email","password","repeatPass","credentials","setCredentials","curState","setCurState","signUpHandler","trim","length","login","Alert","alert","error","check","Object","values","every","field","userID","navigate","styles","container","flexDirection","justifyContent","backgroundColor","marginRight","value","prevState","paddingTop","marginTop","StyleSheet","create","flex","alignItems"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacity, Alert } from 'react-native';\r\nimport App from '../../API/firebaseConfig';\r\nimport { sign } from '../../store/Auth';\r\nimport { connect } from \"react-redux\";\r\nimport { auth } from 'firebase';\r\n\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    auth:state.auth\r\n  }\r\n}\r\n\r\nconst RegisterScreen= connect(mapStateToProps, {sign}) ((props)=>{\r\n    const {sign,navigation}=props;\r\n    console.log('props in shop: ',props);\r\n    const [credentials,setCredentials]=useState({\r\n        email:'',\r\n        password:'',\r\n        repeatPass:''\r\n      });\r\n      const [curState,setCurState]=useState('login');\r\n      const signUpHandler=(credentials)=>{\r\n        const {email, password, repeatPass}=credentials;\r\n        if (curState==='login'){\r\n          try {\r\n            if (email.trim().length && password.trim().length){\r\n             const login= sign(email,password, 'test',true); \r\n              \r\n              console.log('login result: ',login)        \r\n            } else {\r\n              Alert.alert('Bütün xanaları doldurun...');\r\n              console.log('Bütün xanaları doldurun...');\r\n              \r\n            }\r\n          } catch (error) {\r\n            console.log('error: ',error);\r\n          }\r\n        } else if (curState==='signup'){\r\n          try {\r\n            let check=(Object.values(credentials).every(field=>{\r\n              return field.trim().length>0;\r\n            }))\r\n            if (check){\r\n              if (credentials.repeatPass===credentials.password){\r\n                sign(email,password, 'test',false);          \r\n              } else {\r\n                console.log(\"password doesn't match...\")\r\n                Alert.alert(\"password doesn't match...\")\r\n              }\r\n            } else {\r\n              console.log('Bütün xanaları doldurun...');\r\n\r\n              Alert.alert('Bütün xanaları doldurun...');\r\n            }\r\n          } catch (error) {\r\n            console.log('error: ',error);\r\n            Alert.alert('error: ',error);\r\n          }\r\n        }\r\n      }\r\n      console.log('props in register: ',props);\r\n      useEffect(()=>{\r\n        if (props.auth.userID){\r\n          navigation.navigate('Home')\r\n        }\r\n      },[props.auth])\r\n      return (\r\n        \r\n         <View style={styles.container}>\r\n           <View style={{\r\n             flexDirection:'row',\r\n             justifyContent:'center',\r\n             backgroundColor:'red'\r\n           }}>\r\n              <TouchableOpacity \r\n              style={{\r\n                marginRight:10\r\n              }}\r\n              onPress={()=>setCurState('signup')}\r\n              >\r\n                  <Text>Sign Up</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n              onPress={()=>setCurState('login')}\r\n              >\r\n                  <Text>Log In</Text>\r\n              </TouchableOpacity>\r\n           </View>\r\n           <Text>email</Text>\r\n           <TextInput keyboardType={\"email-address\"} value={credentials.email} placeholder='email@sample.com' onChangeText={value=>{setCredentials(prevState=>{\r\n             return {\r\n               ...prevState,\r\n               email:value\r\n             }\r\n           })}} />\r\n           <Text>password</Text>\r\n           <TextInput secureTextEntry placeholder='password' value={credentials.password} onChangeText={value=>{setCredentials(prevState=>{\r\n             return {\r\n               ...prevState,\r\n               password:value\r\n             }\r\n           })}}/>\r\n           {\r\n             curState==='signup'?(\r\n               <>\r\n                  <Text>Repeat password</Text>\r\n                  <TextInput secureTextEntry placeholder='repeat password' value={credentials.repeatPass} onChangeText={value=>{setCredentials(prevState=>{\r\n                    return {\r\n                      ...prevState,\r\n                      repeatPass:value\r\n                    }\r\n                  })}}/>\r\n                \r\n               </>):null\r\n           }\r\n           <View style={{paddingTop:10}}>\r\n            <Button style={{marginTop:20}} title='Submit' onPress={()=>signUpHandler(credentials)} />\r\n           </View>\r\n         </View>\r\n      );\r\n})\r\n\r\n\r\n\r\nconst styles=StyleSheet.create({\r\n    container:{\r\n        flex:1,\r\n        justifyContent:'center',\r\n        alignItems:'center'\r\n    }\r\n})\r\nexport default RegisterScreen\r\n\r\n  "]},"metadata":{},"sourceType":"module"}